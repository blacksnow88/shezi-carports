<div class="container mt-5">
    <div class="jumbotron">
        <h1 class="display-3">New Booking</h1>
        <p class="lead">Your VALET Parking at OR Tambo International Airport.</p>
        <hr class="my-4">
        <form #bookingForm="ngForm">
            <div class="form-group">
              <div class="">
                <div class="card">
                  <div class="card-header">
                    <span>Choose the dates for the Booking</span>
                  </div>
                  <div class="card-body">
                    <div class="row">
                      <div class="col-lg-4 col-sm-12 col-md-12">
                        <div class="form-group mb-3">
                          <div class="">
                            <label class="input-group-text" name="basic-addon1">Vehicle Check In Date and Time *</label>
                          </div>
                          <angular2-date-picker [(ngModel)]="booking.checkIn" name="checkin" 
                                                      [settings]="datetimesettings"></angular2-date-picker>
                        </div>
                      </div>
                      <div class="col-lg-4 col-sm-12 col-md-12">
                        <div class="form-group mb-3">
                          <div class="">
                            <span class="input-group-text" name="basic-addon1">Vehicle Collection Date and Time *</span>
                          </div>
                          <angular2-date-picker [(ngModel)]="booking.checkout" name="checkout" 
                                                      [settings]="datetimesettings"></angular2-date-picker>
                        
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="">
                <div class="card">
                  <div class="card-header">
                    <span>Vehicle Details</span>
                  </div>
                  <div class="card-body">
                    <div class="row">
                      <div class="col-lg-3 col-md-12">
                        <div class="form-group mb-3">
                          <div class="">
                            <span class="input-group-text" name="vehicle_reg">Registration *</span>
                          </div>
                          <input type="text" class="form-control" required name="vehicle_reg" pattern="[a-zA-Z0-9 -]+" [(ngModel)]="booking.vehicle.registration" [disabled]="!editMode"
                            aria-describedby="vehicle_reg">
                        </div>
                      </div>
                      <div class="col-lg-3 col-md-12">
                        <div class="form-group mb-3">
                          <div class="">
                            <span class="input-group-text" name="basic-addon1">Make</span>
                          </div>
                          <input type="text" class="form-control" name="vehicle_make" [(ngModel)]="booking.vehicle.make" [disabled]="!editMode"
                            aria-describedby="vehicle_make">
                        </div>
                      </div>
                      <div class="col-lg-3 col-md-12">
                        <div class="form-group mb-3">
                          <div class="">
                            <span class="input-group-text" name="vehicle_model">Model</span>
                          </div>
                          <input type="text" class="form-control" name="vehicle_model" [(ngModel)]="booking.vehicle.model" [disabled]="!editMode"
                            aria-describedby="vehicle_model">
                        </div>
                      </div>
                      <div class="col-lg-3 col-md-12">
                        <div class="form-group mb-3">
                          <div class="">
                            <span class="input-group-text" name="vehicle_color">Colour</span>
                          </div>
                          <input type="text" class="form-control" name="vehicle_color" [(ngModel)]="booking.vehicle.color" [disabled]="!editMode"
                            aria-describedby=vehicle_color>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="">
                <div class="card">
                  <div class="card-header">
                    <span>Owner Details</span>
                  </div>
                  <div class="card-body">
        
                    <div class="row">
                        <div class="col-lg-3 col-md-12">
                            <div class="form-group mb-3">
                              <div class="">
                                <span class="input-group-text" name="basic-addon1">Title *</span>
                              </div>
                                <select class="form-control" name="owner_title" required [(ngModel)]="booking.owner.title" *ngIf="!editMode"  aria-describedby="basic-addon1">
                                    <option *ngFor="let title of titles" [value]="title">{{title}}</option>
                                  </select>
                                  <input type="text" class="form-control" required name="owner_title" *ngIf="editMode"  [disabled]="editMode" [(ngModel)]="booking.owner.title"
                                    aria-describedby="owner_title">
                            </div>
                          </div>
                      <div class="col-lg-3 col-md-12">
                        <div class="form-group mb-3">
                          <div class="">
                            <span class="input-group-text" name="owner_name">Name *</span>
                          </div>
                          <input type="text" class="form-control" required name="owner_name" [disabled]="!editMode" [(ngModel)]="booking.owner.name"
                            aria-describedby="owner_name">
                        </div>
                      </div>
                      <div class="col-lg-3 col-md-12">
                        <div class="form-group mb-3">
                          <div class="">
                            <span class="input-group-text" name="owner_surname">Surname *</span>
                          </div>
                          <input type="text" class="form-control" required name="owner_surname" [disabled]="!editMode" [(ngModel)]="booking.owner.surname"
                            aria-describedby="owner_surname">
                        </div>
                      </div>
                      <div class="col-lg-3 col-md-12">
                          <div class="form-group mb-3">
                            <div class="">
                              <span class="input-group-text" name="owner_cell">Cell phone *</span>
                            </div>
                            <input type="text" class="form-control" required name="owner_cell" patttern="" aria-describedby="owner_cell" [disabled]="!editMode" [(ngModel)]="booking.owner.cellphone">
                          </div>
                        </div>
                        <div class="col-lg-3 col-md-12">
                          <div class="form-group mb-3">
                            <div class="">
                              <span class="input-group-text"  name="owner_email">Email *</span>
                            </div>
                            <input type="email" class="form-control" name="owner_email" aria-describedby="owner_email" [disabled]="!editMode" required [(ngModel)]="booking.owner.email">
                          </div>
                        </div>
                      <div class="col-lg-3 col-md-12">
                        <div class="form-group mb-3">
                          <div class="">
                            <span class="input-group-text" name="owner_id">Id Number</span>
                          </div>
                          <input type="number" class="form-control" name="owner_id" aria-describedby="owner_id" [disabled]="!editMode" [(ngModel)]="booking.owner.idNumber">
                        </div>
                      </div>
                      <div class="col-lg-3 col-md-12">
                        <div class="form-group mb-3">
                          <div class="">
                            <span class="input-group-text" name="owner_co">Company</span>
                          </div>
                          <input type="text" class="form-control" name="owner_co" aria-describedby="owner_co" [disabled]="!editMode" [(ngModel)]="booking.owner.company">
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card">
                <div class="card-header">
                  <span>4. Additional Services</span>
                </div>
                <div class="card-body row">
                  <div class="card col-lg-3 col-md-12">
                      <div class="custom-control custom-radio">
                          <input type="radio" class="custom-control-input" id="addservice1" name="addservice" checked [value]="'none'" [disabled]="!editMode" [(ngModel)]="booking.service">
                          <label class="custom-control-label" for="addservice1">None</label>
                      </div>
                      <div class="custom-control custom-radio">
                          <input type="radio" class="custom-control-input" id="addservice2" name="addservice" [value]="'wash'" [disabled]="!editMode" [(ngModel)]="booking.service">
                          <label class="custom-control-label" for="addservice2">Wash</label>
                      </div>
                      <div class="custom-control custom-radio">
                          <input type="radio" class="custom-control-input" id="addservice3" name="addservice" [value]="'mini valet'" [disabled]="!editMode" [(ngModel)]="booking.service">
                          <label class="custom-control-label" for="addservice3">Mini Valet</label>
                      </div>
                      <div class="custom-control custom-radio">
                          <input type="radio" class="custom-control-input" id="addservice4" name="addservice" [value]="'full valet'" [(ngModel)]="booking.service" [disabled]="!editMode">
                          <label class="custom-control-label" for="addservice4">Full Valet</label>
                      </div>
                  </div>
                  <!-- <div class="card col-lg-3 col-md-12">
                      <div class="custom-control custom-checkbox">
                          <input type="checkbox" class="custom-control-input" id="scratch" name="scratch" [(ngModel)]="booking.services.scratch">
                          <label class="custom-control-label" for="scratch">Scratch Mobile</label>
                      </div>
                      <div class="custom-control custom-checkbox">
                          <input type="checkbox" class="custom-control-input" id="service" name="service" [(ngModel)]="booking.services.service">
                          <label class="custom-control-label" for="service">Service</label>
                      </div>
                  </div> -->
                  <div class="card col-lg-3 col-md-12">
                      <span>
                        Please Note these services are subject to additional costs.
                      </span>
                  </div>
        
                </div>
              </div>
              <div class="card">
                  <div class="card-header">
                    <span>5. Where to be Parked</span>
                  </div>
                  <div class="card-body">
                      <div class="form-group mb-3">
                          <div class="">
                            <span class="input-group-text" name="owner_co">Bay Number</span>
                          </div>
                          <input type="text" class="form-control" name="owner_co" aria-describedby="owner_co" [(ngModel)]="booking.bayNumber" [disabled]="!editMode">
                        </div>
                    </div>
                    <div class="card-footer">
                        <div class="col-12 text-center">
                          {{booking | json}}
                          <p class="lead">* =  mandatory fields</p>
                          <p *ngIf="!!alert">
                              <ngb-alert [type]="alert.type" (close)="close(alert)">{{ alert.message }}</ngb-alert>
                          </p>
                            <button class="btn btn-success" *ngIf="!existing && !editMode" [disabled]="bookingForm.invalid" (click)="onSubmit()" type="submit">Book</button>
                            <button class="btn btn-success" *ngIf="existing && !editMode" [disabled]="bookingForm.invalid" (click)="checkOut()" type="submit">Check Out</button>
                            <button class="btn btn-success" *ngIf="existing && editMode" [disabled]="bookingForm.invalid" (click)="updateBooking()" type="submit">Update</button>
                            <button class="btn btn-success" *ngIf="existing && editMode" [disabled]="bookingForm.invalid" (click)="editMode = false" type="submit">Cancel</button>
                        </div>
                      </div>
                </div>
            </div>
            
          </form>
      </div>
  
</div>